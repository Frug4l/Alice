<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–Ø –ª—é–±–ª—é –ê–ª–∏—Å—É</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Comic Sans MS', 'Arial Rounded MT Bold', sans-serif;
            background: linear-gradient(135deg, #ffebf3, #ffe6f2);
            min-height: 100vh;
            overflow: hidden;
            color: #ff0066;
            position: relative;
            cursor: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' viewBox='0 0 32 32'%3E%3Ctext x='16' y='24' font-size='24' text-anchor='middle' fill='%23ff66b2'%3Eüê∑%3C/text%3E%3C/svg%3E") 16 16, auto;
        }
        
        /* –§–æ–Ω —Å –ø–ª–∞–≤–∞—é—â–∏–º–∏ —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏ */
        #background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            pointer-events: none;
        }
        
        .floating-element {
            position: absolute;
            font-size: 2.8rem;
            opacity: 0.85;
            pointer-events: auto;
            cursor: pointer;
            user-select: none;
            filter: drop-shadow(0 4px 8px rgba(255, 102, 178, 0.3));
            transition: transform 0.3s;
        }
        
        .floating-element:hover {
            transform: scale(1.2);
            filter: drop-shadow(0 6px 12px rgba(255, 102, 178, 0.5));
        }
        
        .heart-bg {
            color: #ff3366;
            animation: float-heart 18s infinite linear;
        }
        
        .pig-bg {
            color: #ff66b2;
            animation: float-pig 22s infinite linear;
        }
        
        .container {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
            text-align: center;
        }
        
        .message-box {
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 30px;
            padding: 70px 50px;
            box-shadow: 0 25px 60px rgba(255, 0, 102, 0.25),
                        inset 0 0 0 2px rgba(255, 255, 255, 0.8);
            border: 12px solid;
            border-image: linear-gradient(45deg, #ff66b2, #ff99cc, #ffb3d9) 1;
            max-width: 850px;
            backdrop-filter: blur(8px);
            z-index: 10;
            position: relative;
            overflow: hidden;
        }
        
        .message-box::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                radial-gradient(circle at 20% 30%, rgba(255, 204, 229, 0.2) 0%, transparent 50%),
                radial-gradient(circle at 80% 70%, rgba(255, 153, 204, 0.2) 0%, transparent 50%);
            z-index: -1;
        }
        
        h1 {
            font-size: 6rem;
            text-shadow: 6px 6px 0 #ffb3d9, 
                         0 0 30px rgba(255, 0, 102, 0.2);
            margin-bottom: 25px;
            color: #ff0066;
            animation: heartbeat 1.8s infinite;
            line-height: 1.1;
            letter-spacing: -1px;
        }
        
        .alice-name {
            color: #ff3385;
            display: inline-block;
            text-shadow: 4px 4px 0 #ff99cc,
                         -1px -1px 0 white,
                         1px -1px 0 white,
                         -1px 1px 0 white,
                         1px 1px 0 white;
            transform: rotate(-2deg);
            animation: bounce 2.2s infinite cubic-bezier(0.68, -0.55, 0.27, 1.55);
            padding: 0 15px;
            background: linear-gradient(45deg, transparent 30%, rgba(255, 255, 255, 0.3) 50%, transparent 70%);
            background-size: 200% 100%;
            animation: bounce 2.2s infinite, shine 3s infinite;
        }
        
        .subtitle {
            font-size: 2.5rem;
            color: #ff66b2;
            margin-top: 35px;
            font-weight: bold;
            background: linear-gradient(45deg, #ff66b2, #ff3385, #ff0066);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            padding: 15px 30px;
            border-radius: 20px;
            display: inline-block;
            border: 4px dashed #ff99cc;
            cursor: pointer;
            transition: all 0.4s;
            position: relative;
            overflow: hidden;
        }
        
        .subtitle:hover {
            transform: scale(1.08) rotate(-1deg);
            box-shadow: 0 10px 30px rgba(255, 102, 178, 0.4);
        }
        
        .subtitle::after {
            content: '‚ù§Ô∏èüçë';
            position: absolute;
            right: -20px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 1.8rem;
            animation: float-emoji 3s infinite ease-in-out;
        }
        
        /* –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è */
        .controls {
            position: fixed;
            bottom: 25px;
            right: 25px;
            display: flex;
            flex-direction: column;
            gap: 12px;
            z-index: 1000;
        }
        
        .pig-btn {
            background: linear-gradient(145deg, #ff66b2, #ff3385, #ff66b2);
            background-size: 200% 200%;
            color: white;
            border: none;
            border-radius: 60px;
            padding: 18px 32px;
            font-size: 1.4rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 12px;
            box-shadow: 0 8px 25px rgba(255, 102, 178, 0.5),
                        inset 0 1px 0 rgba(255, 255, 255, 0.3);
            transition: all 0.3s;
            animation: gradient-shift 3s infinite ease-in-out;
            position: relative;
            overflow: hidden;
        }
        
        .pig-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            animation: shine-btn 5s infinite;
        }
        
        .pig-btn:hover {
            transform: translateY(-4px) scale(1.05);
            box-shadow: 0 12px 35px rgba(255, 102, 178, 0.7);
        }
        
        .pig-btn:active {
            transform: scale(0.95);
            box-shadow: 0 4px 15px rgba(255, 102, 178, 0.4);
        }
        
        .sound-btn {
            background: linear-gradient(145deg, #ffffff, #ffe6f2);
            color: #ff3385;
            border: 4px solid #ff99cc;
            box-shadow: 0 6px 20px rgba(255, 153, 204, 0.3);
        }
        
        .counter {
            position: fixed;
            bottom: 25px;
            left: 25px;
            background: linear-gradient(145deg, #ffffff, #ffe6f2);
            padding: 15px 28px;
            border-radius: 25px;
            border: 5px solid #ff99cc;
            font-size: 1.4rem;
            color: #ff3385;
            display: flex;
            align-items: center;
            gap: 12px;
            z-index: 1000;
            box-shadow: 0 8px 25px rgba(255, 153, 204, 0.3);
            min-width: 160px;
        }
        
        .counter::before {
            content: 'üêΩ';
            font-size: 1.8rem;
            animation: counter-pig 2s infinite;
        }
        
        /* –ë–æ–ª—å—à–∞—è —Å–≤–∏–Ω–∫–∞ */
        .big-pig {
            position: fixed;
            top: 50%;
            right: 50px;
            font-size: 9rem;
            cursor: pointer;
            z-index: 900;
            filter: drop-shadow(0 15px 30px rgba(255, 102, 178, 0.4));
            transform: translateY(-50%);
            animation: pig-dance 5s infinite ease-in-out;
            text-shadow: 0 0 20px rgba(255, 255, 255, 0.5);
        }
        
        .big-pig:hover {
            animation: pig-excited 0.8s infinite;
        }
        
        .big-pig:active {
            animation: pig-squeeze 0.3s;
        }
        
        /* –ê–Ω–∏–º–∞—Ü–∏–∏ */
        @keyframes float-heart {
            0% {
                transform: translate(0, 110vh) rotate(0deg) scale(0.8);
                opacity: 0;
            }
            10% {
                opacity: 0.9;
            }
            90% {
                opacity: 0.9;
            }
            100% {
                transform: translate(calc(120vw * var(--dx, 1)), -150px) rotate(720deg) scale(1.2);
                opacity: 0;
            }
        }
        
        @keyframes float-pig {
            0% {
                transform: translate(0, 110vh) rotate(0deg) scale(0.9);
                opacity: 0;
            }
            8% {
                opacity: 0.95;
            }
            92% {
                opacity: 0.95;
            }
            100% {
                transform: translate(calc(-120vw * var(--dx, 1.2)), -150px) rotate(-720deg) scale(1.1);
                opacity: 0;
            }
        }
        
        @keyframes pig-dance {
            0%, 100% { 
                transform: translateY(-50%) rotate(0deg) scale(1); 
            }
            25% { 
                transform: translateY(-50%) translateX(10px) rotate(5deg) scale(1.05); 
            }
            50% { 
                transform: translateY(-50%) translateY(-15px) rotate(0deg) scale(1); 
            }
            75% { 
                transform: translateY(-50%) translateX(-10px) rotate(-5deg) scale(1.05); 
            }
        }
        
        @keyframes pig-excited {
            0%, 100% { transform: translateY(-50%) scale(1.1); }
            50% { transform: translateY(-50%) scale(1.3); }
        }
        
        @keyframes pig-squeeze {
            0%, 100% { transform: translateY(-50%) scale(1); }
            50% { transform: translateY(-50%) scale(0.8); }
        }
        
        @keyframes heartbeat {
            0%, 100% { transform: scale(1); }
            15% { transform: scale(1.06); }
            30% { transform: scale(1); }
            45% { transform: scale(1.08); }
            60% { transform: scale(1); }
        }
        
        @keyframes bounce {
            0%, 100% { transform: translateY(0) rotate(-2deg); }
            50% { transform: translateY(-25px) rotate(-2deg); }
        }
        
        @keyframes shine {
            0% { background-position: -100% 0; }
            100% { background-position: 200% 0; }
        }
        
        @keyframes gradient-shift {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }
        
        @keyframes shine-btn {
            0% { left: -100%; }
            100% { left: 200%; }
        }
        
        @keyframes counter-pig {
            0%, 100% { transform: rotate(0deg); }
            25% { transform: rotate(-10deg); }
            75% { transform: rotate(10deg); }
        }
        
        @keyframes float-emoji {
            0%, 100% { transform: translateY(-50%) rotate(0deg); }
            50% { transform: translateY(-50%) translateY(-10px) rotate(10deg); }
        }
        
        /* –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–≤—É–∫–∞ */
        .sound-indicator {
            position: fixed;
            top: 25px;
            right: 25px;
            background: linear-gradient(145deg, #ffffff, #ffe6f2);
            padding: 12px 24px;
            border-radius: 25px;
            border: 4px solid #ff99cc;
            display: flex;
            align-items: center;
            gap: 12px;
            z-index: 1000;
            opacity: 0;
            transform: translateY(-20px);
            transition: all 0.5s cubic-bezier(0.68, -0.55, 0.27, 1.55);
            box-shadow: 0 10px 30px rgba(255, 153, 204, 0.3);
        }
        
        .sound-indicator.visible {
            opacity: 1;
            transform: translateY(0);
        }
        
        .sound-wave {
            display: flex;
            align-items: flex-end;
            gap: 4px;
            height: 25px;
        }
        
        .wave-bar {
            width: 5px;
            background: linear-gradient(to top, #ff66b2, #ff3385);
            border-radius: 3px;
            animation: wave 0.6s infinite ease-in-out;
        }
        
        .wave-bar:nth-child(1) { animation-delay: 0s; height: 8px; }
        .wave-bar:nth-child(2) { animation-delay: 0.1s; height: 15px; }
        .wave-bar:nth-child(3) { animation-delay: 0.2s; height: 22px; }
        .wave-bar:nth-child(4) { animation-delay: 0.3s; height: 15px; }
        .wave-bar:nth-child(5) { animation-delay: 0.4s; height: 8px; }
        
        @keyframes wave {
            0%, 100% { height: 8px; }
            50% { height: 22px; }
        }
        
        /* –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è */
        .instruction {
            position: fixed;
            top: 25px;
            left: 25px;
            background: linear-gradient(145deg, #ffffff, #ffe6f2);
            padding: 12px 20px;
            border-radius: 20px;
            border: 4px solid #ff99cc;
            color: #ff3385;
            font-size: 0.9rem;
            z-index: 1000;
            box-shadow: 0 8px 25px rgba(255, 153, 204, 0.3);
            animation: pulse-instruction 3s infinite;
        }
        
        @keyframes pulse-instruction {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        
        /* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
        @media (max-width: 768px) {
            h1 { font-size: 4rem; }
            .subtitle { font-size: 1.8rem; }
            .message-box { padding: 40px 25px; }
            .big-pig { font-size: 5rem; right: 20px; }
            .controls { bottom: 15px; right: 15px; }
            .counter, .instruction { bottom: 15px; left: 15px; font-size: 1.1rem; }
        }
    </style>
</head>
<body>
    <!-- –§–æ–Ω —Å –ø–ª–∞–≤–∞—é—â–∏–º–∏ —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏ -->
    <div id="background"></div>
    
    <!-- –û—Å–Ω–æ–≤–Ω–æ–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ -->
    <div class="container">
        <div class="message-box">
            <h1>
                –Ø –ª—é–±–ª—é <span class="alice-name">–ê–ª–∏—Å—É</span>!
            </h1>
            <div class="subtitle" id="subtitle">–ò –µ—ë –∫–ª–∞—Å—Å–Ω—É—é –∂–æ–ø—É</div>
        </div>
    </div>
    
    <!-- –ë–æ–ª—å—à–∞—è —Å–≤–∏–Ω–∫–∞ -->
    <div class="big-pig" id="bigPig">üê∑</div>
    
    <!-- –°—á–µ—Ç—á–∏–∫ —Ö—Ä—é–∫–∞–Ω–∏–π -->
    <div class="counter">
        <span>–•—Ä—é–∫–æ–≤:</span>
        <span id="pigCounter">0</span>
    </div>
    
    <!-- –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è -->
    <div class="instruction" id="instruction">
        üëÜ –ö–ª–∏–∫–Ω–∏ –¥–ª—è –∑–≤—É–∫–∞!
    </div>
    
    <!-- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–≤—É–∫–∞ -->
    <div class="sound-indicator" id="soundIndicator">
        <div class="sound-wave">
            <div class="wave-bar"></div>
            <div class="wave-bar"></div>
            <div class="wave-bar"></div>
            <div class="wave-bar"></div>
            <div class="wave-bar"></div>
        </div>
        <span style="color: #ff3385; font-weight: bold;">–•—Ä—é–∫!</span>
    </div>
    
    <!-- –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è -->
    <div class="controls">
        <button class="pig-btn" id="pigBtn">
            <span style="font-size: 1.8rem;">üê∑</span>
            <span>–•—Ä—é–∫–Ω—É—Ç—å!</span>
        </button>
        <button class="pig-btn sound-btn" id="soundBtn">
            <span id="soundText">üîä –í–∫–ª</span>
        </button>
    </div>

    <script>
        // ====================
        // –ú–ò–õ–´–ô –ó–í–£–ö –•–†–Æ–ö–ê–ù–¨–Ø
        // ====================
        
        let pigCount = 0;
        let isSoundEnabled = true;
        let audioContext;
        let hasUserInteracted = false;
        
        // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—á–µ–Ω—å –º–∏–ª–æ–≥–æ –∑–≤—É–∫–∞ –º–∞–ª–µ–Ω—å–∫–æ–π —Å–≤–∏–Ω–∫–∏
        function createCutePigSound() {
            if (!audioContext) {
                audioContext = new (window.AudioContext || window.webkitAudioContext)();
            }
            
            // –û—Å–Ω–æ–≤–Ω–æ–π –æ—Å—Ü–∏–ª–ª—è—Ç–æ—Ä - –≤—ã—Å–æ–∫–∏–π –º–∏–ª—ã–π –∑–≤—É–∫
            const mainOsc = audioContext.createOscillator();
            mainOsc.type = 'sine';
            
            // –í—Ç–æ—Ä–æ–π –æ—Å—Ü–∏–ª–ª—è—Ç–æ—Ä –¥–ª—è —Ç–µ–º–±—Ä–∞
            const osc2 = audioContext.createOscillator();
            osc2.type = 'triangle';
            
            // –¢—Ä–µ—Ç–∏–π –æ—Å—Ü–∏–ª–ª—è—Ç–æ—Ä –¥–ª—è "–ø—É—à–∏—Å—Ç–æ—Å—Ç–∏"
            const osc3 = audioContext.createOscillator();
            osc3.type = 'sine';
            
            // Gain –Ω–æ–¥—ã –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≥—Ä–æ–º–∫–æ—Å—Ç—å—é
            const mainGain = audioContext.createGain();
            const gain2 = audioContext.createGain();
            const gain3 = audioContext.createGain();
            const finalGain = audioContext.createGain();
            
            // –°–æ–∑–¥–∞–µ–º –æ—á–µ–Ω—å –º–∏–ª—ã–π –∑–≤—É–∫–æ–≤–æ–π –ø–∞—Ç—Ç–µ—Ä–Ω
            const now = audioContext.currentTime;
            const duration = 0.45;
            
            // –û—Å–Ω–æ–≤–Ω–æ–π –∑–≤—É–∫ - –º–∏–ª–æ–µ –≤—ã—Å–æ–∫–æ–µ "—Ö—Ä—é"
            mainOsc.frequency.setValueAtTime(320, now); // –í—ã—Å–æ–∫–∏–π –º–∏–ª—ã–π –∑–≤—É–∫
            mainOsc.frequency.exponentialRampToValueAtTime(280, now + 0.15); // –ü–ª–∞–≤–Ω–æ–µ –ø–æ–Ω–∏–∂–µ–Ω–∏–µ
            mainOsc.frequency.exponentialRampToValueAtTime(350, now + 0.25); // –ü–æ–≤—ã—à–µ–Ω–∏–µ
            mainOsc.frequency.exponentialRampToValueAtTime(260, now + duration); // –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ
            
            // –í—Ç–æ—Ä–æ–π –æ—Å—Ü–∏–ª–ª—è—Ç–æ—Ä - –¥–æ–±–∞–≤–ª—è–µ—Ç "–º—è–≥–∫–æ—Å—Ç—å"
            osc2.frequency.setValueAtTime(160, now);
            osc2.frequency.exponentialRampToValueAtTime(140, now + 0.2);
            
            // –¢—Ä–µ—Ç–∏–π –æ—Å—Ü–∏–ª–ª—è—Ç–æ—Ä - –≤–∏–±—Ä–∞—Ç–æ –¥–ª—è –º–∏–ª–æ—Ç—ã
            osc3.frequency.setValueAtTime(5, now); // –ù–∏–∑–∫–∞—è —á–∞—Å—Ç–æ—Ç–∞ –≤–∏–±—Ä–∞—Ç–æ
            
            // –û–≥–∏–±–∞—é—â–∏–µ –¥–ª—è –ø–ª–∞–≤–Ω–æ–≥–æ –∑–≤—É–∫–∞
            mainGain.gain.setValueAtTime(0, now);
            mainGain.gain.linearRampToValueAtTime(0.5, now + 0.05); // –ë—ã—Å—Ç—Ä—ã–π –≤–∑–ª–µ—Ç
            mainGain.gain.exponentialRampToValueAtTime(0.3, now + 0.15);
            mainGain.gain.exponentialRampToValueAtTime(0.4, now + 0.25); // –ú–∞–ª–µ–Ω—å–∫–∏–π –≤—Å–ø–ª–µ—Å–∫
            mainGain.gain.exponentialRampToValueAtTime(0.001, now + duration);
            
            gain2.gain.setValueAtTime(0, now);
            gain2.gain.linearRampToValueAtTime(0.2, now + 0.03);
            gain2.gain.exponentialRampToValueAtTime(0.001, now + duration);
            
            gain3.gain.setValueAtTime(0, now);
            gain3.gain.linearRampToValueAtTime(0.15, now + 0.02);
            gain3.gain.exponentialRampToValueAtTime(0.001, now + 0.1);
            
            // –û–±—â–∞—è –≥—Ä–æ–º–∫–æ—Å—Ç—å
            finalGain.gain.value = 0.7;
            
            // –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Ü–µ–ø–æ—á–∫–∏
            mainOsc.connect(mainGain);
            osc2.connect(gain2);
            osc3.connect(gain3);
            
            mainGain.connect(finalGain);
            gain2.connect(finalGain);
            gain3.connect(finalGain);
            
            finalGain.connect(audioContext.destination);
            
            // –î–æ–±–∞–≤–ª—è–µ–º —Ñ–∏–ª—å—Ç—Ä –¥–ª—è –º—è–≥–∫–æ—Å—Ç–∏
            const filter = audioContext.createBiquadFilter();
            filter.type = 'lowpass';
            filter.frequency.value = 2000;
            filter.Q.value = 0.7;
            
            // –ó–∞–ø—É—Å–∫
            mainOsc.start(now);
            osc2.start(now);
            osc3.start(now);
            
            mainOsc.stop(now + duration);
            osc2.stop(now + duration);
            osc3.stop(now + duration);
            
            // –û—á–∏—Å—Ç–∫–∞
            setTimeout(() => {
                mainOsc.disconnect();
                osc2.disconnect();
                osc3.disconnect();
                mainGain.disconnect();
                gain2.disconnect();
                gain3.disconnect();
                finalGain.disconnect();
            }, duration * 1000 + 100);
            
            // –°–æ–∑–¥–∞–µ–º –≤—Ç–æ—Ä—É—é —á–∞—Å—Ç—å –∑–≤—É–∫–∞ (—Ç–∏—Ö–æ–µ –ø–æ—Å–≤–∏—Å—Ç—ã–≤–∞–Ω–∏–µ)
            setTimeout(() => {
                const softOsc = audioContext.createOscillator();
                const softGain = audioContext.createGain();
                
                softOsc.type = 'sine';
                softOsc.frequency.setValueAtTime(420, audioContext.currentTime);
                softOsc.frequency.exponentialRampToValueAtTime(380, audioContext.currentTime + 0.1);
                
                softGain.gain.setValueAtTime(0, audioContext.currentTime);
                softGain.gain.linearRampToValueAtTime(0.15, audioContext.currentTime + 0.02);
                softGain.gain.exponentialRampToValueAtTime(0.001, audioContext.currentTime + 0.12);
                
                softOsc.connect(softGain);
                softGain.connect(audioContext.destination);
                
                softOsc.start();
                softOsc.stop(audioContext.currentTime + 0.12);
                
                setTimeout(() => {
                    softOsc.disconnect();
                    softGain.disconnect();
                }, 200);
            }, 80);
            
            return true;
        }
        
        // –í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –∑–≤—É–∫–∞
        function playPigSound() {
            if (!isSoundEnabled) return;
            
            if (!hasUserInteracted) {
                document.getElementById('instruction').textContent = '–ï—â—ë —Ä–∞–∑! üëÜ';
                hasUserInteracted = true;
            }
            
            try {
                if (audioContext && audioContext.state === 'suspended') {
                    audioContext.resume();
                }
                
                createCutePigSound();
                onSoundPlayed();
                
            } catch (error) {
                console.log('–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∫–ª–∏–∫–Ω—É—Ç—å –ø–æ —Å—Ç—Ä–∞–Ω–∏—Ü–µ —Å–Ω–∞—á–∞–ª–∞');
            }
        }
        
        // –î–µ–π—Å—Ç–≤–∏—è –ø–æ—Å–ª–µ –∑–≤—É–∫–∞
        function onSoundPlayed() {
            pigCount++;
            updateCounter();
            showSoundIndicator();
            animateBigPig();
        }
        
        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—á–µ—Ç—á–∏–∫–∞
        function updateCounter() {
            const counter = document.getElementById('pigCounter');
            counter.textContent = pigCount;
            
            counter.style.transform = 'scale(1.4)';
            counter.style.color = '#ff0066';
            counter.style.textShadow = '0 0 10px rgba(255, 102, 178, 0.5)';
            
            setTimeout(() => {
                counter.style.transform = 'scale(1)';
                counter.style.color = '#ff3385';
                counter.style.textShadow = 'none';
            }, 300);
        }
        
        // –ü–æ–∫–∞–∑–∞—Ç—å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–≤—É–∫–∞
        function showSoundIndicator() {
            const indicator = document.getElementById('soundIndicator');
            indicator.classList.add('visible');
            
            setTimeout(() => {
                indicator.classList.remove('visible');
            }, 1200);
        }
        
        // –ê–Ω–∏–º–∞—Ü–∏—è –±–æ–ª—å—à–æ–π —Å–≤–∏–Ω–∫–∏
        function animateBigPig() {
            const bigPig = document.getElementById('bigPig');
            
            bigPig.style.animation = 'pig-excited 0.8s';
            setTimeout(() => {
                bigPig.style.animation = 'pig-dance 5s infinite ease-in-out';
            }, 800);
        }
        
        // –°–æ–∑–¥–∞–Ω–∏–µ –ø–ª–∞–≤–∞—é—â–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
        function createFloatingElements() {
            const background = document.getElementById('background');
            const hearts = ['‚ù§Ô∏è', 'üíñ', 'üíó', 'üíì', 'üíû', 'üíï'];
            const pigs = ['üê∑', 'üêñ', 'üêΩ', 'üê∑', 'üêñ'];
            
            for (let i = 0; i < 45; i++) {
                const element = document.createElement('div');
                const isPig = Math.random() > 0.4;
                
                if (isPig) {
                    element.classList.add('floating-element', 'pig-bg');
                    element.innerHTML = pigs[Math.floor(Math.random() * pigs.length)];
                    element.dataset.sound = 'true';
                } else {
                    element.classList.add('floating-element', 'heart-bg');
                    element.innerHTML = hearts[Math.floor(Math.random() * hearts.length)];
                    element.dataset.sound = Math.random() > 0.7 ? 'true' : 'false';
                }
                
                const size = 28 + Math.random() * 45;
                const startX = Math.random() * 100;
                const duration = 16 + Math.random() * 24;
                const delay = Math.random() * 15;
                const dx = 0.6 + Math.random() * 1.4;
                
                element.style.fontSize = `${size}px`;
                element.style.left = `${startX}vw`;
                element.style.animationDuration = `${duration}s`;
                element.style.animationDelay = `${delay}s`;
                element.style.setProperty('--dx', dx);
                
                element.addEventListener('click', function(e) {
                    this.style.transform = 'scale(1.4) rotate(15deg)';
                    setTimeout(() => {
                        this.style.transform = '';
                    }, 400);
                    
                    if (this.dataset.sound === 'true') {
                        playPigSound();
                    }
                    
                    e.stopPropagation();
                });
                
                background.appendChild(element);
            }
        }
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        document.addEventListener('DOMContentLoaded', function() {
            createFloatingElements();
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∞—É–¥–∏–æ
            document.body.addEventListener('click', function initAudio() {
                if (!audioContext) {
                    try {
                        audioContext = new (window.AudioContext || window.webkitAudioContext)();
                        document.getElementById('instruction').style.display = 'none';
                        
                        // –ü–µ—Ä–≤—ã–π —Ç–µ—Å—Ç–æ–≤—ã–π —Ö—Ä—é–∫
                        setTimeout(() => {
                            if (isSoundEnabled) {
                                playPigSound();
                            }
                        }, 300);
                    } catch (e) {
                        console.log('–ê—É–¥–∏–æ –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è');
                    }
                }
                document.body.removeEventListener('click', initAudio);
            });
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–Ω–æ–ø–æ–∫
            document.getElementById('bigPig').addEventListener('click', playPigSound);
            document.getElementById('subtitle').addEventListener('click', playPigSound);
            
            document.getElementById('pigBtn').addEventListener('click', function() {
                playPigSound();
                this.style.transform = 'scale(0.92)';
                setTimeout(() => {
                    this.style.transform = '';
                }, 200);
            });
            
            document.getElementById('soundBtn').addEventListener('click', function() {
                isSoundEnabled = !isSoundEnabled;
                const soundText = document.getElementById('soundText');
                
                if (isSoundEnabled) {
                    soundText.innerHTML = 'üîä –í–∫–ª';
                    this.style.background = 'linear-gradient(145deg, #ffffff, #ffe6f2)';
                    playPigSound();
                } else {
                    soundText.innerHTML = 'üîá –í—ã–∫–ª';
                    this.style.background = '#ffcccc';
                }
            });
            
            // –ö–ª–∏–∫ –ø–æ —Ñ–æ–Ω—É —Å–æ–∑–¥–∞–µ—Ç —ç–ª–µ–º–µ–Ω—Ç—ã
            document.body.addEventListener('click', function(e) {
                if (!e.target.closest('.floating-element, .pig-btn, .big-pig, .counter, .subtitle, .message-box, .instruction')) {
                    createRandomElement(e.clientX, e.clientY);
                }
            });
            
            // –°–ª—É—á–∞–π–Ω—ã–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ö—Ä—é–∫–∞–Ω—å—è
            setInterval(() => {
                if (isSoundEnabled && pigCount > 0 && Math.random() < 0.12) {
                    playPigSound();
                }
            }, 12000);
        });
        
        // –°–æ–∑–¥–∞—Ç—å —Å–ª—É—á–∞–π–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç –≤ –º–µ—Å—Ç–µ –∫–ª–∏–∫–∞
        function createRandomElement(x, y) {
            const background = document.getElementById('background');
            const element = document.createElement('div');
            const isPig = Math.random() > 0.5;
            const types = isPig ? ['üê∑', 'üêñ', 'üêΩ'] : ['‚ù§Ô∏è', 'üíñ', 'üíó'];
            
            if (isPig) {
                element.classList.add('floating-element', 'pig-bg');
                element.dataset.sound = 'true';
            } else {
                element.classList.add('floating-element', 'heart-bg');
                element.dataset.sound = Math.random() > 0.7 ? 'true' : 'false';
            }
            
            element.innerHTML = types[Math.floor(Math.random() * types.length)];
            
            const size = 25 + Math.random() * 35;
            const duration = 12 + Math.random() * 18;
            const dx = 0.4 + Math.random() * 1.2;
            
            element.style.fontSize = `${size}px`;
            element.style.left = `${x}px`;
            element.style.top = `${y}px`;
            element.style.animationDuration = `${duration}s`;
            element.style.setProperty('--dx', dx);
            
            element.addEventListener('click', function(e) {
                this.style.transform = 'scale(1.3)';
                setTimeout(() => {
                    this.style.transform = '';
                }, 300);
                
                if (this.dataset.sound === 'true') {
                    playPigSound();
                }
                e.stopPropagation();
            });
            
            background.appendChild(element);
            
            setTimeout(() => {
                if (element.parentNode) {
                    element.remove();
                }
            }, duration * 1000);
            
            if (Math.random() < 0.4) {
                setTimeout(playPigSound, 200);
            }
        }
    </script>
</body>
</html>
